<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="dcterms.date" content="2025-12-01">
<meta name="keywords" content="51MS2B57-2526BD0">

<title>Banque de France – skekCoon</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<link href="../../favicon.png" rel="icon" type="image/png">
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-5d25afec7c43226f8d8819c8675edfbc.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<meta property="og:title" content="Banque de France – skekCoon">
<meta property="og:description" content="Créée il y a plus de deux siècles, la Banque de France est la banque centrale de notre pays. Elle est le pilier français de l’Eurosystème, qui rassemble la Banque centrale européenne (BCE) et les banques centrales nationales des pays ayant adopté l’euro. Institution indépendante, son activité regroupe trois grandes missions.">
<meta property="og:image" content="../assets/cotation-interest.png">
<meta property="og:site_name" content="skekCoon">
<meta name="twitter:title" content="Banque de France – skekCoon">
<meta name="twitter:description" content="Créée il y a plus de deux siècles, la Banque de France est la banque centrale de notre pays. Elle est le pilier français de l’Eurosystème, qui rassemble la Banque centrale européenne (BCE) et les banques centrales nationales des pays ayant adopté l’euro. Institution indépendante, son activité regroupe trois grandes missions.">
<meta name="twitter:image" content="../assets/cotation-interest.png">
<meta name="twitter:card" content="summary_large_image">
</head>

<body class="nav-sidebar floating nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">skekCoon</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> 
<span class="menu-text">Projects</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../teaching.html"> 
<span class="menu-text">Teaching</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item">Banque de France</li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#un-peu-dhistoire" id="toc-un-peu-dhistoire" class="nav-link active" data-scroll-target="#un-peu-dhistoire">Un peu d’histoire…</a>
  <ul class="collapse">
  <li><a href="#quelle-est-lintérêt-de-la-cotation" id="toc-quelle-est-lintérêt-de-la-cotation" class="nav-link" data-scroll-target="#quelle-est-lintérêt-de-la-cotation">Quelle est l’intérêt de la cotation ?</a></li>
  <li><a href="#historique-de-fiben" id="toc-historique-de-fiben" class="nav-link" data-scroll-target="#historique-de-fiben">Historique de Fiben</a></li>
  <li><a href="#cotation-ou-notation" id="toc-cotation-ou-notation" class="nav-link" data-scroll-target="#cotation-ou-notation">Cotation ou notation</a></li>
  <li><a href="#que-signifie-à-dire-dexpert" id="toc-que-signifie-à-dire-dexpert" class="nav-link" data-scroll-target="#que-signifie-à-dire-dexpert">Que signifie « à dire d’expert » ?</a></li>
  <li><a href="#grille-de-cotation" id="toc-grille-de-cotation" class="nav-link" data-scroll-target="#grille-de-cotation">Grille de cotation</a></li>
  <li><a href="#fondements-juridiques" id="toc-fondements-juridiques" class="nav-link" data-scroll-target="#fondements-juridiques">Fondements juridiques</a>
  <ul class="collapse">
  <li><a href="#oeec" id="toc-oeec" class="nav-link" data-scroll-target="#oeec">OEEC</a></li>
  <li><a href="#icas" id="toc-icas" class="nav-link" data-scroll-target="#icas">ICAS</a></li>
  </ul></li>
  <li><a href="#la-cotation-prend-notamment-en-compte" id="toc-la-cotation-prend-notamment-en-compte" class="nav-link" data-scroll-target="#la-cotation-prend-notamment-en-compte">La cotation prend notamment en compte :</a></li>
  <li><a href="#les-sources-dinformations-pour-la-cotation" id="toc-les-sources-dinformations-pour-la-cotation" class="nav-link" data-scroll-target="#les-sources-dinformations-pour-la-cotation">Les sources d’informations pour la cotation :</a></li>
  <li><a href="#segmentation-cotation" id="toc-segmentation-cotation" class="nav-link" data-scroll-target="#segmentation-cotation">Segmentation cotation</a></li>
  <li><a href="#more-than-two-centuries-of-history" id="toc-more-than-two-centuries-of-history" class="nav-link" data-scroll-target="#more-than-two-centuries-of-history">More than two centuries of history…</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Banque de France</h1>
  <div class="quarto-categories">
    <div class="quarto-category">Finance</div>
    <div class="quarto-category">Graduate-level</div>
  </div>
  </div>



<div class="quarto-title-meta">

    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">December 1, 2025</p>
    </div>
  </div>
  
    
  </div>
  
<div>
  <div class="abstract">
    <div class="block-title">Abstract</div>
    <p>Créée il y a plus de deux siècles, la Banque de France est la banque centrale de notre pays. Elle est le pilier français de l’Eurosystème, qui rassemble la Banque centrale européenne (BCE) et les banques centrales nationales des pays ayant adopté l’euro. Institution indépendante, son activité regroupe trois grandes missions.</p>
  </div>
</div>

<div>
  <div class="keywords">
    <div class="block-title">Keywords</div>
    <p>51MS2B57-2526BD0</p>
  </div>
</div>

</header>


<section id="un-peu-dhistoire" class="level1">
<h1>Un peu d’histoire…</h1>
<ul>
<li><strong>1800</strong> : Création de la Banque de France sous l’égide du Premier consul, Bonaparte.</li>
<li><strong>1803</strong> : Monopole d’émission des billets à Paris.</li>
<li><strong>1848</strong> : Extension du monopole d’émission à toute la France et développement du réseau de succursales.</li>
<li><strong>1945</strong> : Nationalisation de la Banque de France.</li>
<li><strong>1993</strong> : Indépendance par rapport à l’État.</li>
<li><strong>1998</strong> : Création de la Banque centrale européenne (BCE), dont la Banque de France est l’un des principaux actionnaires, et de l’Eurosystème.</li>
<li><strong>1999</strong> : Création de l’euro et mise en place d’une politique monétaire unique pour la zone euro.</li>
<li><strong>2002</strong> : Émission des premiers billets en euros.</li>
<li><strong>2010</strong> : Création de l’Autorité de contrôle prudentiel et de résolution (ACPR), adossée à la Banque de France.</li>
</ul>
<section id="quelle-est-lintérêt-de-la-cotation" class="level2">
<h2 class="anchored" data-anchor-id="quelle-est-lintérêt-de-la-cotation">Quelle est l’intérêt de la cotation ?</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../assets/cotation-interest.png" class="img-fluid figure-img"></p>
<figcaption>Intérêt de la cotation</figcaption>
</figure>
</div>
</section>
<section id="historique-de-fiben" class="level2">
<h2 class="anchored" data-anchor-id="historique-de-fiben">Historique de Fiben</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../assets/cotationchronologie.png" class="img-fluid figure-img"></p>
<figcaption>Chronologie de la cotation</figcaption>
</figure>
</div>
<p>L’article L144-1 du Code Monétaire et Financier définit strictement les destinataires de la cotation.</p>
</section>
<section id="cotation-ou-notation" class="level2">
<h2 class="anchored" data-anchor-id="cotation-ou-notation">Cotation ou notation</h2>
<p>La cotation a le même objet que la notation d’une agence à savoir évaluer le risque encouru par un prêteur qui avance des fonds. le modèle économique de la cotation est très différent :</p>
<ol type="1">
<li>l’activité de cotation ne concerne pas les produits financiers mais exclusivement l’appréciation du risque de crédit des entreprises non financières et résidentes. Les États et les collectivités territoriales ne reçoivent pas de cotation Banque de France ;</li>
<li>la cotation n’est pas publique, le Code monétaire et financier définit strictement les destinataires potentiels de la cotation (Institutions financières essentiellement) ;</li>
<li>la Banque de France ne perçoit aucune rémunération des entreprises analysées en contrepartie de la cote qu’elle leur attribue. La prestation de cotation est facturée aux seules institutions financières qui l’utilisent.</li>
</ol>
<p>La cotation de la Banque de France est une appréciation sur la <strong>capacité d’une entreprise à honorer ses engagements financiers à un horizon de un à trois ans.</strong> La cotation est attribuée «&nbsp;à dire d’expert&nbsp;» à plus de 260&nbsp;000 entreprises (dont près de 5000 groupes étudiés sur la base de leurs comptes consolidés). Cette cotation permet :</p>
<ol type="1">
<li>une évaluation du risque de crédit d’une entreprise utilisée pour la politique monétaire et la réglementation prudentielle ;</li>
<li>de faciliter le dialogue prêteur entreprise en mettant à disposition une référence commune et reconnue.</li>
</ol>
</section>
<section id="que-signifie-à-dire-dexpert" class="level2">
<h2 class="anchored" data-anchor-id="que-signifie-à-dire-dexpert">Que signifie « à dire d’expert » ?</h2>
<p>C’est-à-dire à partir de l’analyse de la situation d’une entreprise par un analyste en application d’un ensemble de règles méthodologiques, communes à l’ensemble du réseau de la Banque de France. Ce mode d’attribution exclut le recours à des procédés de cotation totalement automatisés et/ou fondés exclusivement sur des données financières. Dans de nombreux cas, un entretien peut intervenir à l’initiative de la Banque de France, soit avant d’attribuer la cotation pour recueillir des éléments d’explication sur l’évolution de la situation financière.</p>
</section>
<section id="grille-de-cotation" class="level2">
<h2 class="anchored" data-anchor-id="grille-de-cotation">Grille de cotation</h2>
<p><img src="../assets/cote_dactivite.png" class="img-fluid"> <img src="../assets/cote_de_credit.png" class="img-fluid"></p>
</section>
<section id="fondements-juridiques" class="level2">
<h2 class="anchored" data-anchor-id="fondements-juridiques">Fondements juridiques</h2>
<p><strong>! à revoir !</strong></p>
<p>La cotation Banque de France repose sur des fondements d’ordre national issus de l’article L.141-6 du code monétaire et financier et d’ordre international issus de la reconnaissance de la Banque de France en tant qu’OEEC (Organisme Externe d’Évaluation du Crédit), du statut «&nbsp;d’ICAS&nbsp;» (In-house Credit Assessment System) qui atteste que la Banque Centrale Européenne a validé son système d’évaluation du risque de crédit.</p>
<section id="oeec" class="level3">
<h3 class="anchored" data-anchor-id="oeec">OEEC</h3>
<p>La Banque de France est un Organisme Externe d’Évaluation du Crédit (OEEC)</p>
<p>Reconnue par la Commission Bancaire (devenue ACPR) depuis le 19 juin 2007. Ce qui permet aux établissements de crédit de s’appuyer sur son expertise pour calculer leurs besoins en fonds propres réglementaires.</p>
<p>Ce qui impose de respecter des critères de performance, sous la forme d’une vérification annuelle des taux de défauts cibles et les critères suivants :</p>
<ul>
<li>l’objectivité de la méthode de notation et des résultats</li>
<li>l’indépendance du processus de production de la notation</li>
<li>l’acceptation par le marché, c’est-à-dire que les évaluations de crédit d’un OEEC sont perçues comme crédibles et fiables par leurs utilisateurs.</li>
</ul>
</section>
<section id="icas" class="level3">
<h3 class="anchored" data-anchor-id="icas">ICAS</h3>
<p>La Banque de France est reconnue In-house Credit Assessment System (ICAS).</p>
<p>La cotation des entreprises de la Banque de France est utilisée pour évaluer la qualité de la signature des créances apportées en garantie dans les opérations de refinancement monétaire et pour le refinancement des prêts bancaires dans le cadre de l’ECAF (Eurosystem Credit Assessment Framework). Les autres ICAS sont les systèmes d’évaluation des Banques Centrales d’Allemagne, d’Autriche, d’Espagne, de Belgique, d’Italie, du Portugal, de Slovénie.</p>
</section>
</section>
<section id="la-cotation-prend-notamment-en-compte" class="level2">
<h2 class="anchored" data-anchor-id="la-cotation-prend-notamment-en-compte">La cotation prend notamment en compte :</h2>
<ul>
<li>l’analyse des documents comptables sociaux et consolidés;</li>
<li>l’examen des engagements financiers et d’éventuels incidents de paiement.</li>
<li>l’environnement de l’entreprise : secteur d’activité, liens économiques et financiers avec d’autres entités, le cas échéant les événements judiciaires ou autres événements concernant l’entreprise et ses dirigeants, communiqués par les greffes de tribunaux de commerce ou les publications légales.</li>
<li>Des éléments «qualitatifs», tels que, l’évolution du marché sur lequel elle opère, son positionnement sur ce marché, les relations avec ses clients et fournisseurs, la solidité de l’actionnariat, la stratégie de l’équipe dirigeante, les perspectives et projets à moyen terme, la flexibilité financière de l’entreprise, la transparence de la communication…</li>
</ul>
</section>
<section id="les-sources-dinformations-pour-la-cotation" class="level2">
<h2 class="anchored" data-anchor-id="les-sources-dinformations-pour-la-cotation">Les sources d’informations pour la cotation :</h2>
<ul>
<li>Les entreprises,</li>
<li>Les greffes des tribunaux de commerce,</li>
<li>Les banques,</li>
<li>Les acteurs du financement des entreprises,</li>
<li>L’Insee.</li>
</ul>
</section>
<section id="segmentation-cotation" class="level2">
<h2 class="anchored" data-anchor-id="segmentation-cotation">Segmentation cotation</h2>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="../assets/diagram-segmentation-cotation.png" class="img-fluid figure-img"></p>
<figcaption>Diagrame de segmentation des cotation</figcaption>
</figure>
</div>
<hr>
<p>Banque de France Une institution au service des citoyens pour répondre aux enjeux et défis économiques de notre société en France et en Europe Stratégie Monétaire Au cœur de l’Eurosystème, la Banque de France mobilise l’expertise de ses équipes d’économistes et d’opérateurs de marché pour préparer et mettre en œuvre la politique monétaire. Son objectif : assurer le financement de l’économie et la stabilité des prix. Gardienne de la monnaie, la Banque de France garantit la confiance dans l’euro sous toutes ses formes. Premier imprimeur de billets en euro, elle assure la mise en circulation et la surveillance de la monnaie fiduciaire. Préserver un bien public majeur, une monnaie stable La Banque de France contribue à la définition de la politique monétaire de la zone euro, décidée en Conseil des gouverneurs. Elle s’assure de sa mise en œuvre en France pour le compte de l’Eurosystème. Elle produit et analyse des statistiques, et établit des prévisions pour éclairer les acteurs économiques. Assurer la confiance dans la monnaie sous toutes ses formes La Banque de France est garante de l’entretien et de la circulation de la monnaie fiduciaire (pièces et billets). Elle s’assure qu’elle demeure un moyen de paiement sûr et accessible à tous, selon un double principe de neutralité et de confiance. Elle œuvre à la sécurité et à l’innovation de l’ensemble des moyens de paiement. Elle veille au maintien de la monnaie centrale comme ancre du système de paiement. Conforter la Banque de France dans son rôle de banque centrale des marchés La Banque de France détient et gère les réserves de change de l’État. Elle garantit la surveillance et le bon fonctionnement des marchés de capitaux pour une place financière de Paris sûre et performante. Stabilité financière Service à l’économie et à la société</p>
<p>La Banque de France est une institution The Banque de France is an independent institution of the French Republic that has guarded the nation’s currency and financial system for over two hundred years. It is a key player in France’s economic and financial system, performing public service and general interest missions for public and private sector operators.</p>
<p>Today, as a member of the Eurosystem, the Banque de France provides a public service to French and European citizens by ensuring the smooth financing of the economy and the stability of prices.</p>
</section>
<section id="more-than-two-centuries-of-history" class="level2">
<h2 class="anchored" data-anchor-id="more-than-two-centuries-of-history">More than two centuries of history…</h2>
<ul>
<li><strong>1800</strong>: creation by Napoléon Bonaparte</li>
<li><strong>1803</strong>: exclusive right to issue banknotes</li>
<li><strong>1945</strong>: nationalisation</li>
<li><strong>1993</strong>: the Banque de France becomes independent</li>
<li><strong>2002</strong>: changeover to the euro and introduction of the first euro banknotes</li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>